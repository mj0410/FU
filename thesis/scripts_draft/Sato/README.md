## Sato (semantic type detection in table)

<img src="https://user-images.githubusercontent.com/66175878/145224701-2981afb9-3759-4448-844e-0767e05c2d8d.PNG" width=60% height=60%>

| Type                       | Feature       | Classification model |
| -------------------------- | ------------- | -------------------- |
| Synthea (126 types)        | Single Column | Neural Network       |
|                            |               | CRF                  |
|                            | 9 Topics      | Neural Network       |
|                            |               | CRF                  |
|                            | 18 Topics     | Neural Network       |
|                            |               | CRF                  |
| Reduced Synthea (61 types) | Single Column | Neural Network       |
|                            |               | CRF                  |
|                            | 9 Topics      | Neural Network       |
|                            |               | CRF                  |
|                            | 18 Topics     | Neural Network       |
|                            |               | CRF                  |

> Type Synthea : column names of tables generated by synthea </br>
> Type Reduced Synthea : group of columns that have similar values but have different names

##### run.sh
```
export BASEPATH=PATH_TO_SATO
export INPUT_DIR=PATH_TO_INPUT_TABLES
export SHERLOCKPATH=$BASEPATH/sherlock
export EXTRACTPATH=$BASEPATH/extract
export PYTHONPATH=$PYTHONPATH:$SHERLOCKPATH
export PYTHONPATH=$PYTHONPATH:$BASEPATH
export TYPENAME=TYPE_LIST_NAME

cd $BASEPATH/extract
python make_type_list.py --file_path $INPUT_DIR --type_name NEW_TYPE_NAME
python extract_header.py OUTPUT_FILE_NAME.pkl -n NUM_ROW -o True 

# for training : need to divide tables if it's large -> ROW_NUM : number of rows of divided tables
python split_train_test.py --header_file HEADER_FILE_NAME.pkl --output OUTPUT_FILE_NAME --val_percent 25 --test_percent 20
python extract_features.py HEADER_FILE_NAME.pkl -O OUTPUT_FILE_NAME

cd $BASEPATH/model
python train_sherlock.py -c $BASEPATH/configs/train_sherlock_config.txt
python train_sherlock.py -c $BASEPATH/configs/eval_sherlock_config.txt
```
